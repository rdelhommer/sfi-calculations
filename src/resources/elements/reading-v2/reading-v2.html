<template>
  <div class="reading-v2">
    <card>
      <h3 slot="heading" class="reading-v2__heading">
        Reading #${readingNumber}
        <button click.delegate="toggleExpand()">
          ${isExpanded ? 'Collapse' : 'Expand'}
        </button>
      </h3>
      <div slot="body">
        <div class="reading-v2__reading-container" show.bind="!isExpanded">
          <div>
            <form-group 
                orientation="horizontal">
              <div slot="label">
                Total Length
              </div>
            </form-group>
          </div>
          <div if.bind="!!fungiColorEnum">
            <form-group 
                orientation="horizontal">
              <div slot="label">
                Average Diameter
              </div>
            </form-group>
          </div>
        </div>
        <div class="reading-v2__field-container" show.bind="isExpanded">
          <field-observation repeat.for="field of reading.fields"
              field.bind="field"
              field-number.bind="$index + 1"
              fungi-color-enum.bind="fungiColorEnum"
              organism-name.bind="organismName"
              on-edit.call="editField(fieldNumber)">
          </field-observation>
        </div>
      </div>
    </card>
  </div>
</template>
