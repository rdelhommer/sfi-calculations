<template>
  <div class="app">
    <div class="action-buttons">
      <button if.bind="tabsRef.activeTab.config.name === 'data' || tabsRef.activeTab.config.name === 'readings'"
        click.delegate="startNewSession()">
        New Session
      </button>
    </div>

    <tabs view-model.ref="tabsRef">
      <tab config.bind="dataTab" 
          if.bind="isProfileValid">
        <data-tab view-model.ref="dataTabRef"></data-tab>
      </tab>
      <tab config.bind="readingsTab"
          if.bind="isProfileValid && isSampleValid && useReadingTab">
        <reading-tab></reading-tab>
      </tab>
      <tab config.bind="resultsTab"
          if.bind="isProfileValid && isSampleValid">
        <results-tab></results-tab>
      </tab>
      <tab config.bind="printTab"
          if.bind="isProfileValid && isSampleValid">
        <print-tab></print-tab>
      </tab>
      <tab config.bind="successionTab"
          if.bind="isProfileValid">
        <succession></succession>
      </tab>
      <tab config.bind="usageTab"
          if.bind="isProfileValid">
        <usage></usage>
      </tab>
      <tab config.bind="settingsTab">
        <settings-tab></settings-tab>
      </tab>
    </tabs>
  </div>
</template>