<template>
  <toolbar>
    <toolbar-item text="Expand">
      <toolbar-action 
          text="All" 
          action.call="expand()">
      </toolbar-action>
      <toolbar-action 
          text="Reading #1"
          action.call="expand(1)">
      </toolbar-action>
      <toolbar-action 
          text="Reading #2"
          action.call="expand(2)">
      </toolbar-action>
      <toolbar-action 
          text="Reading #3"
          action.call="expand(3)">
      </toolbar-action>
      <toolbar-action 
          text="Reading #4"
          action.call="expand(4)">
      </toolbar-action>
      <toolbar-action 
          text="Reading #5"
          action.call="expand(5)">
      </toolbar-action>
    </toolbar-item>
    <toolbar-item text="Collapse">
      <toolbar-action 
          text="All" 
          action.call="collapse()">
      </toolbar-action>
      <toolbar-action 
          text="Reading #1"
          action.call="collapse(1)">
      </toolbar-action>
      <toolbar-action 
          text="Reading #2"
          action.call="collapse(2)">
      </toolbar-action>
      <toolbar-action 
          text="Reading #3"
          action.call="collapse(3)">
      </toolbar-action>
      <toolbar-action 
          text="Reading #4"
          action.call="collapse(4)">
      </toolbar-action>
      <toolbar-action 
          text="Reading #5"
          action.call="collapse(5)">
      </toolbar-action>
    </toolbar-item>
    <toolbar-item text="Fields">
      <toolbar-action 
          text="Add"
          action.call="addField()">
      </toolbar-action>
      <toolbar-action 
          text="Remove"
          action.call="removeField()">
      </toolbar-action>
    </toolbar-item>
  </toolbar>
  <div class="fila-proto">
    <h1>Filamentous and Protozoan Organisms</h1>
    <div class="fila-proto__organism-container" repeat.for="organism of organisms">
      <h2 class="fila-proto__organism-header">${organism.organismName}</h2>
      <reading-v2 
          repeat.for="reading of organism.readings"
          organism-name.one-time="organism.organismName"
          reading-number.bind="$index + 1"
          reading.bind="reading"
          fungi-color-enum.one-time="organism.FungiColorEnum"
          on-edit-field.call="collectData(readingNumber, fieldNumber, organism)"
          on-add-field.call="addField()"
          on-remove-field.call="removeField()"
          is-expanded.bind="isReadingExpanded[$index]">
      </reading-v2>
      <biomass 
          organism.bind="organism"
          update-flag.bind="updateFlag">
      </biomass>
    </div>
  </div>
</template>